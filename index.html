<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>moæŠ€æœ¯åšå®¢</title>
   
    <link rel="stylesheet" href="assets/css/sidebar.css">
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.1/dist/markdown-it.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf_viewer.min.css">
    <style>
      /* è¡¥å……sidebar.cssä¸­æ²¡æœ‰çš„æ ·å¼ */
      .content h1 { font-size: 2em; margin-bottom: 0.5em; }
      .content h2 { font-size: 1.5em; margin-top: 1.5em; border-bottom: 1px solid #eee; padding-bottom: 0.3em; }
      .content h3 { font-size: 1.3em; margin-top: 1.2em; }
      .content h4 { font-size: 1.1em; margin-top: 1em; }
      .content h5 { font-size: 1em; margin-top: 0.8em; }
      .content ul, .content ol { margin: 1em 0; padding-left: 2em; }
      .content li { margin: 0.5em 0; }
      .content pre code { 
        background-color: transparent; 
        color: inherit; 
        padding: 0; 
      }
      .content img { 
        max-width: 100%; 
        height: auto; 
      }
      .loading { 
        text-align: center; 
        padding: 50px; 
        color: #666; 
      }
      .pdf-container {
        width: 100%;
        min-height: 100vh;
        background: #f5f5f5;
        padding: 20px 0;
        overflow-y: auto;
      }
      .pdf-page {
        margin: 0 auto 20px auto;
        background: white;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        border-radius: 4px;
        padding: 10px;
        max-width: 900px;
      }
      .pdf-canvas {
        width: 100%;
        height: auto;
        display: block;
      }

      .pdf-loading {
        text-align: center;
        padding: 50px;
        color: #666;
        background: white;
        margin: 20px auto;
        max-width: 900px;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
    </style>
  </head>
  <body>
    
    <div class="sidebar">
      <div class="sidebar-inner">
        <ul class="sidebar-nav">
          <li class="sidebar-nav-toc active">
            ç›®å½•
          </li>
        </ul>
        
        <div class="sidebar-post-container">
          <div class="sidebar-post-author">
            <div class="sidebar-post-author-avatar"></div>
            <p class="sidebar-post-author-name">moæŠ€æœ¯åšå®¢</p>
          </div>
        </div>
        
        <div class="sidebar-toc">
          <div class="sidebar-toc-content">
            <div class="toc">
              <div class="toc-level-1 toc-header">
                ä»‹ç»
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadMarkdown('README.md')">ä»‹ç»</a>
              </div>
              
              <div class="toc-level-1 toc-header">
                markdownåŸºç¡€è¯­æ³•ç»ƒä¹ 
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadMarkdown('markdownçš„ç»ƒä¹ .md')">markdownçš„ç»ƒä¹ </a>
              </div>
              
              <div class="toc-level-1 toc-header">
                Git
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadMarkdown('å…³äºGit/Git.1å­¦ä¹ .md')">Gitçš„å­¦ä¹ </a>
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadMarkdown('å…³äºGit/Git.2ä»£ç æ¨é€.md')">Gitçš„ä»£ç æ¨é€</a>
              </div>
              
              <div class="toc-level-1 toc-header">
                CTF
              </div>
              <div class="toc-level-2 toc-header">
                ä¸€Â·Web
              </div>
              <div class="toc-level-3 toc-header">
                3.æ³¨å…¥ç±»
              </div>
              <div class="toc-level-4">
                <a href="#" onclick="loadMarkdown('SQL/0x0.md')">SQLæ³¨å…¥çš„å­¦ä¹ </a>
              </div>
              <div class="toc-level-5">
                <a href="#" onclick="loadMarkdown('SQL/0x3ç›²æ³¨.md')">SQLç›²æ³¨</a>
              </div>
              <div class="toc-level-1 toc-header">
                Python
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadMarkdown('PythonBook/Pythonå­¦ä¹ ç¬”è®°.md')">PythonåŸºç¡€</a>
              </div>
              <div class="toc-level-2">
                <a href="#" onclick="loadPDF('PythonBook/Pythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µç¬¬3ç‰ˆ.pdf')">Pythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µï¼ˆPDFï¼‰</a>
              </div>
              <div class="toc-level-1 toc-header">
                å¤ä¹ ä¸€ä¸‹ä¸‹
              </div>
              <div class="toc-level-2 toc-header">
                Javaçš„å­¦ä¹ 
              </div>
              <div class="toc-level-3 toc-header">
                ä¸€ Javaå…¥é—¨
              </div>
              <div class="toc-level-4">
                <a href="#" onclick="loadMarkdown('Javaçš„å¤ä¹ /Java å…¥é—¨.md')">1.Java çš„è¿è¡Œ</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’® -->
    <div class="sidebar-toggle" id="sidebarToggle">
      <div class="sidebar-toggle-line"></div>
      <div class="sidebar-toggle-line"></div>
      <div class="sidebar-toggle-line"></div>
    </div>
    
    <div class="main-container">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content" id="content">
            <div class="loading">
              <h1>ğŸ»æ¬¢è¿ä½¿ç”¨æ–‡æ¡£æŸ¥çœ‹å™¨ğŸ»</h1>
              <p>ğŸ»è¯·ä»å·¦ä¾§ç›®å½•é€‰æ‹©è¦æŸ¥çœ‹çš„æ–‡æ¡£ğŸ»</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      // ä¾§è¾¹æ åˆ‡æ¢åŠŸèƒ½
      document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.querySelector('.sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        
        if (sidebarToggle) {
          sidebarToggle.addEventListener('click', function() {
            sidebar.classList.toggle('active');
            sidebarToggle.classList.toggle('active');
          });
        }
        
        // å“åº”å¼å¤„ç†
        function handleResize() {
          if (window.innerWidth > 992) {
            sidebar.classList.remove('active');
            sidebarToggle.classList.remove('active');
          }
        }
        
        window.addEventListener('resize', handleResize);
        handleResize();
      });
      
      // åˆå§‹åŒ–markdown-it
      const md = window.markdownit({
        html: true,
        linkify: true,
        typographer: true,
        breaks: true,
        highlight: function (str, lang) {
          return '<pre><code class="language-' + lang + '">' + str + '</code></pre>';
        }
      });
      
      // åŠ è½½Markdownæ–‡ä»¶
      async function loadMarkdown(filePath) {
        const content = document.getElementById('content');
        content.innerHTML = '<div class="loading">æ­£åœ¨åŠ è½½æ–‡æ¡£...</div>';
        
        try {
          const response = await fetch(filePath);
          if (!response.ok) {
            throw new Error('æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®');
          }
          
          const markdownText = await response.text();
          const html = md.render(markdownText);
          content.innerHTML = html;
          
          // æ›´æ–°é¡µé¢æ ‡é¢˜
          const title = filePath.split('/').pop().replace('.md', '');
          document.title = title + ' - moæŠ€æœ¯åšå®¢';
          
        } catch (error) {
          content.innerHTML = '<div class="loading"><h2>åŠ è½½å¤±è´¥</h2><p>' + error.message + '</p></div>';
        }
      }
      
      // è®¾ç½®PDF.jsçš„worker
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      
      // PDFé˜…è¯»ç›¸å…³å˜é‡
      let pdfDoc = null;
      const scale = 1.2;
      let renderedPages = new Set();
      
      // åŠ è½½PDFæ–‡ä»¶
      async function loadPDF(filePath) {
        const content = document.getElementById('content');
        content.innerHTML = '<div class="pdf-loading">æ­£åœ¨åŠ è½½PDF...</div>';
        
        try {

          
          // åŠ è½½PDFæ–‡æ¡£
          const loadingTask = pdfjsLib.getDocument(filePath);
          pdfDoc = await loadingTask.promise;
          
          // é‡ç½®æ¸²æŸ“é¡µé¢è®°å½•
          renderedPages.clear();
          
          // åˆ›å»ºPDFæŸ¥çœ‹å™¨ç•Œé¢
          content.innerHTML = '<div class="pdf-container" id="pdf-container"></div>';
          

          
          // æ¸²æŸ“æ‰€æœ‰é¡µé¢
          await renderAllPages();
          
          // æ›´æ–°é¡µé¢æ ‡é¢˜
          const title = filePath.split('/').pop().replace('.pdf', '');
          document.title = title + ' - moæŠ€æœ¯åšå®¢';
          
        } catch (error) {
          content.innerHTML = '<div class="pdf-loading"><h2>PDFåŠ è½½å¤±è´¥</h2><p>' + error.message + '</p></div>';
        }
      }
      
      // æ¸²æŸ“æ‰€æœ‰PDFé¡µé¢
      async function renderAllPages() {
        const container = document.getElementById('pdf-container');
        container.innerHTML = '';
        
        for (let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++) {
          try {
            const page = await pdfDoc.getPage(pageNum);
            const viewport = page.getViewport({scale: scale});
            
            // åˆ›å»ºé¡µé¢å®¹å™¨
            const pageDiv = document.createElement('div');
            pageDiv.className = 'pdf-page';
            pageDiv.setAttribute('data-page', pageNum);
            
            // åˆ›å»ºcanvas
            const canvas = document.createElement('canvas');
            canvas.className = 'pdf-canvas';
            canvas.width = viewport.width;
            canvas.height = viewport.height;
            
            const ctx = canvas.getContext('2d');
            
            // æ¸²æŸ“é¡µé¢
            const renderContext = {
              canvasContext: ctx,
              viewport: viewport
            };
            
            await page.render(renderContext).promise;
            
            pageDiv.appendChild(canvas);
            container.appendChild(pageDiv);
            renderedPages.add(pageNum);
            
          } catch (error) {
            console.error(`æ¸²æŸ“ç¬¬${pageNum}é¡µæ—¶å‡ºé”™:`, error);
          }
        }
      }
      

      
      // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
      document.addEventListener('DOMContentLoaded', function() {
        // å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤åŠ è½½çš„æ–‡æ¡£
        // loadMarkdown('README.md');
      });
    </script>
  </body>
</html>